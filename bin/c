#!/usr/bin/env rc
. 9.rc

prefix='#'
if (! ~ $#* 0) { prefix=$1; shift }

# Since awk(1) treats some file names specially, pass them to cat(1).
cat $* | awk -v prefix=$prefix '
	BEGIN { prefixlen = length(prefix) }
	{
		if (index($0, prefix) == 1)
			print substr($0, prefixlen+1, length($0)-prefixlen)
		else
			print prefix $0
	}
'
